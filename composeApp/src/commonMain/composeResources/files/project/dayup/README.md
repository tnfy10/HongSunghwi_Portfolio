## DayUp
2023.02 - 2024.12  
9명 (안드로이드 2명, iOS 1명, 백엔드 4명, 기획 1명, 디자이너 1명)
<br/><br/>

---

<br/><br/>

#### 개요
국내 모든 주식 종목의 주가 정보와 동영상 정보를 제공하며, 종목별 멘토들의 강의 영상과 커뮤니티, 채팅을 통해 멘토와 소통할 수 있는 어플리케이션 입니다.

<br/><br/>

#### 주요 기능
- 코스피, 코스닥 지수 정보 제공
- 주식 종목 주가 정보 제공
- 웹뷰를 통한 VOD, LIVE 스트리밍
- 각 멘토별 커뮤니티를 통한 소통
- 주식 장이 열리는 날마다 멘토들에게 받는 주식 정보

<br/><br/>

#### 사용 기술 및 언어
Android, Kotlin, Coroutine, Flow, MVVM, Hilt, AAC, Jetpack Compose, Paging3, Navigation

<br/><br/>

#### 주요 업무
- 앱 아키텍처 설계  
당시에 앱 구조를 어떻게 할까 많이 고민을 하였는데, 요구하는 기능이 자주 바뀔 수 있다고 이야기를 들었었습니다. 그럼 기능 하나가 바뀌어도 코드를 많이 손대지 않게 하는 구조로 가야겠다고 생각하였습니다. 설계시 구글의 Now in Android, AAC를 많이 참고하였습니다.
- Jetpack Compose를 이용하여 UI 구현
- 구독을 위한 인앱결제 구현
- 토큰 인증 및 갱신 로직 구현
- 백엔드 개발자와 협업하여 웹뷰에 표시되는 커뮤니티 게시글 에디터 제어를 위한 자바스크립트 통신 구현
- 외부 웹 스트리밍 구현 업체와 협업하여 웹뷰를 통한 VOD, LIVE 스트리밍 구현
- api 폴링을 통한 실시간 주가 정보 구현
- Canvas를 이용한 증권 지수 차트 구현  
당시에 차트 라이브러리에서 제공하는 기능을 사용하려고 했으나, 디자인에 맞게 커스텀하는 것이 제한되어, Canvas로 구현하였습니다.
- SciChart를 이용한 종목 양봉 차트 구현  
분, 일, 주, 연에 대한 차트와 실시간으로 봉이 추가되는 부분, 십자선을 이용하여 사용자가 원하는 구간의 정보 확인을 구현하였습니다.

<br/><br/>

#### 주요 성과 및 문제해결
- 다수의 api를 폴링할 시 토큰이 만료됐을 경우 여러번 갱신 요청하는 문제 수정  
실시간 주가 정보를 위해 여러 api를 폴링 중 토큰이 만료되면 요청하던 모든 부분에 대해 토큰 갱신 요청을 하게되는 문제가 있었습니다. 이를 해결하기 위해 여러 api 중 제일 먼저 인증 문제가 발생하여 토큰 갱신을 하게되면 이외의 api들은 갱신이 완료될 때까지 대기한 후 진행이 되도록 수정하였습니다.
- ModalNavigationDrawer를 커스텀으로 구현 중 발생한 이슈 해결  
Drawer에 들어가는 content의 크기를 fillMaxWidth로 설정하면 가로로 회전시 Drawer가 펼쳐지는 이슈가 있었습니다. 이 문제는 해당 라이브러리의 이슈로 구글 이슈 트래커에 등록하였으나, 오랜 기간 동안 해결이 되지 않았습니다. 계속 기다릴 수는 없었고 이를 해결하기 위해 ModalNavigationDrawer의 소스코드를 복사해서 해당 문제가 발생하는 부분을 수정 후 사용했습니다. 해당 문제는 디바이스의 크기에 따라서 동작이 변하는 Drawer의 내부 코드가 문제였습니다.
- 디바이스 화면에 따라서 텍스트가 디자인과 맞지 않는 문제 발생  
디자이너와 협의하여 화면 크기에 따라서 텍스트 크기를 다르게 함으로써 해결했습니다.
- Paging3 이용 중 데이터 최신화시 스크롤 위치가 변하는 문제 해결  
해당 문제는 Paging3의 작동 방식상 발생하는 문제였습니다. 게시글의 수정, 삭제시 자연스럽게 업데이트 되게 하기위해 캐싱과 Flow의 combine을 이용하여 해결하였습니다.

<br/><br/>